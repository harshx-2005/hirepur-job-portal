<nav class="dashboard-nav">
    <div class="nav-brand">
        <a href="{% url 'dashboard' %}" class="logo">
            <i class="fas fa-handshake"></i>
            <span>HirePur</span>
        </a>
        <button class="nav-toggle" id="navToggle">
            <i class="fas fa-bars"></i>
        </button>
    </div>

    <div class="nav-main" id="navMain">
        {% if user.is_employer %}
            <a href="{% url 'dashboard' %}" class="nav-link active">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>
            <a href="{% url 'post_job' %}" class="nav-link">
                <i class="fas fa-plus-circle"></i>
                <span>Post Job</span>
            </a>
            <a href="{% url 'view_applicants' %}" class="nav-link">
                <i class="fas fa-users"></i>
                <span>Applicants</span>
            </a>
            <a href="{% url 'company_profile' %}" class="nav-link">
                <i class="fas fa-building"></i>
                <span>Company</span>
            </a>
        {% else %}
            <a href="{% url 'dashboard' %}" class="nav-link active">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>
            <a href="{% url 'browse_jobs' %}" class="nav-link">
                <i class="fas fa-search"></i>
                <span>Find Jobs</span>
            </a>
            <a href="#" class="nav-link">
                <i class="fas fa-bookmark"></i>
                <span>Saved Jobs</span>
            </a>
            <a href="{% url 'profile' %}" class="nav-link">
                <i class="fas fa-user-edit"></i>
                <span>My Profile</span>
            </a>
        {% endif %}
    </div>

    <div class="nav-user">
        <div class="user-dropdown" id="userDropdown">
            <div class="user-avatar">
                <img src="{{ user.profile.image.url|default:'/static/images/default-profile.png' }}" alt="{{ user.get_full_name }}">
            </div>
            <div class="user-info">
                <span class="user-name">
                    {% if user.is_employer %}
                        {{ user.company.name|default:user.get_short_name }}
                    {% else %}
                        {{ user.get_full_name|default:user.username }}
                    {% endif %}
                </span>
                <span class="user-role">
                    {% if user.is_employer %}Employer{% else %}Job Seeker{% endif %}
                </span>
            </div>
            <i class="fas fa-chevron-down dropdown-icon"></i>

            <div class="dropdown-menu">
                <a href="{% url 'profile' %}" class="dropdown-item">
                    <i class="fas fa-user-cog"></i> Profile Settings
                </a>
                
                <div class="dropdown-divider"></div>
                <a href="{% url 'logout' %}" class="dropdown-item logout">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </div>
        </div>
    </div>
</nav>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Mobile nav toggle
    const navToggle = document.getElementById('navToggle');
    const navMain = document.getElementById('navMain');
    
    navToggle.addEventListener('click', function() {
        navMain.classList.toggle('active');
    });

    // User dropdown
    const userDropdown = document.getElementById('userDropdown');
    userDropdown.addEventListener('click', function(e) {
        if (window.innerWidth <= 768 || e.target.closest('.dropdown-menu')) {
            this.classList.toggle('active');
        }
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', function(e) {
        if (!userDropdown.contains(e.target)) {
            userDropdown.classList.remove('active');
        }
    });
});
</script>