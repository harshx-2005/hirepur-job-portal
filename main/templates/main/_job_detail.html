{% extends "main/base.html" %}
{% load static %}

{% block content %}
<div class="job-detail-container">
    <div class="job-detail-card">
        <div class="job-header">
            <div class="company-info">
                <img src="{{ job.employer.company_logo.url|default:'/static/images/default-company.png' }}" 
                     alt="{{ job.employer.company_name }}" class="company-logo">
                <div>
                    <h1>{{ job.title }}</h1>
                    <h2>{{ job.employer.company_name }}</h2>
                    <div class="job-meta">
                        <span><i class="fas fa-map-marker-alt"></i> {{ job.get_location_display }}</span>
                        <span><i class="fas fa-clock"></i> {{ job.posted_on|timesince }} ago</span>
                    </div>
                </div>
            </div>
            
            {% if not is_employer %}
            <div class="job-actions">
                <button class="save-job-btn">
                    <i class="far fa-bookmark"></i> Save
                </button>
                <a href="{% url 'job_apply' job.id %}" class="apply-btn">
                    <i class="fas fa-paper-plane"></i> Apply Now
                </a>
            </div>
            {% endif %}
        </div>
        
        <div class="job-content">
            <div class="job-highlights">
                <div class="highlight-card">
                    <h3><i class="fas fa-briefcase"></i> Job Type</h3>
                    <p>{{ job.get_job_type_display }}</p>
                </div>
                <div class="highlight-card">
                    <h3><i class="fas fa-laptop-house"></i> Work Mode</h3>
                    <p>{{ job.get_work_mode_display }}</p>
                </div>
                <div class="highlight-card">
                    <h3><i class="fas fa-star"></i> Experience</h3>
                    <p>{{ job.get_experience_required_display }}</p>
                </div>
                <div class="highlight-card">
                    <h3><i class="fas fa-rupee-sign"></i> Salary</h3>
                    <p>â‚¹{{ job.salary }} LPA</p>
                </div>
            </div>
            
            <div class="job-description">
                <h3>Job Description</h3>
                <div class="description-content">
                    {{ job.description|linebreaks }}
                </div>
            </div>
            
            <div class="job-skills">
                <h3>Skills Required</h3>
                <div class="skills-list">
                    {% for skill in job.skills_required.all %}
                        <span class="skill-tag">{{ skill.name }}</span>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}